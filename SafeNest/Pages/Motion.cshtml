@page
@model SafeNest.Pages.MotionModel
@{
    ViewData["Title"] = "Motion Detection";
}

<h2>Motion Detection</h2>

<button id="getLocationBtn">Get Current Location</button>

<p id="status">No location yet.</p>
<p id="coords"></p>

@section Scripts {
    <script>
        const btn = document.getElementById("getLocationBtn");
        const status = document.getElementById("status");
        const coords = document.getElementById("coords");

        btn.addEventListener("click", () => {
            if (!navigator.geolocation) {
                status.textContent = "Geolocation is not supported by your browser";
            } else {
                status.textContent = "Locating...";
                navigator.geolocation.getCurrentPosition(success, error);
            }
        });

        function success(position) {
            const latitude = position.coords.latitude;
            const longitude = position.coords.longitude;
            status.textContent = "Location found!";
            coords.textContent = `Latitude: ${latitude}, Longitude: ${longitude}`;
        }

        function error() {
            status.textContent = "Unable to retrieve your location";
        }
    </script>
}
